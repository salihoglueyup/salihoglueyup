name: Daily Quote Update

on:
  schedule:
    - cron: '0 6 * * *'  # Her gÃ¼n 06:00 UTC (09:00 TR)
  workflow_dispatch:

jobs:
  update-quote:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4
      
      - name: Update Daily Quote
        uses: actions/github-script@v8
        with:
          script: |
            const fs = require('fs');
            
            // English quotes
            const englishQuotes = [
              { text: "The only way to do great work is to love what you do.", author: "Steve Jobs" },
              { text: "Code is poetry.", author: "WordPress" },
              { text: "First, solve the problem. Then, write the code.", author: "John Johnson" },
              { text: "Any fool can write code that a computer can understand. Good programmers write code that humans can understand.", author: "Martin Fowler" },
              { text: "The best error message is the one that never shows up.", author: "Thomas Fuchs" },
              { text: "Simplicity is the soul of efficiency.", author: "Austin Freeman" },
              { text: "Make it work, make it right, make it fast.", author: "Kent Beck" },
              { text: "Talk is cheap. Show me the code.", author: "Linus Torvalds" },
              { text: "Programs must be written for people to read, and only incidentally for machines to execute.", author: "Harold Abelson" },
              { text: "The only true wisdom is in knowing you know nothing.", author: "Socrates" }
            ];
            
            // Turkish quotes
            const turkishQuotes = [
              { text: "BaÅŸarÄ±, hazÄ±rlÄ±k ile fÄ±rsatÄ±n buluÅŸtuÄŸu yerdir.", author: "Seneca" },
              { text: "Hayat, bisiklete binmek gibidir. Dengenizi korumak iÃ§in hareket etmeye devam etmelisiniz.", author: "Albert Einstein" },
              { text: "BugÃ¼n yapabileceÄŸini yarÄ±na bÄ±rakma.", author: "Benjamin Franklin" },
              { text: "Ã–ÄŸrenmenin yaÅŸÄ± yoktur.", author: "AtatÃ¼rk" },
              { text: "Her ÅŸey pratikle mÃ¼kemmelleÅŸir.", author: "TÃ¼rk AtasÃ¶zÃ¼" },
              { text: "DÃ¼ÅŸen kalkar, kalkmayan ise yolun baÅŸÄ±ndadÄ±r.", author: "TÃ¼rk AtasÃ¶zÃ¼" },
              { text: "En iyi hata mesajÄ± hiÃ§ gÃ¶rÃ¼nmeyen hata mesajÄ±dÄ±r.", author: "Thomas Fuchs" },
              { text: "Basitlik, verimliliÄŸin ruhudur.", author: "Austin Freeman" },
              { text: "Ã–nce Ã§alÄ±ÅŸtÄ±r, sonra dÃ¼zelt, sonra hÄ±zlandÄ±r.", author: "Kent Beck" },
              { text: "KonuÅŸma kolay. Bana kodu gÃ¶ster.", author: "Linus Torvalds" }
            ];
            
            const today = new Date();
            const dayOfYear = Math.floor((today - new Date(today.getFullYear(), 0, 0)) / (1000 * 60 * 60 * 24));
            
            const enQuote = englishQuotes[dayOfYear % englishQuotes.length];
            const trQuote = turkishQuotes[dayOfYear % turkishQuotes.length];
            
            const quoteTable = '  <!-- DAILY-QUOTE:START -->\n' +
              '  <table>\n' +
              '    <tr>\n' +
              '      <td>ðŸ‡¬ðŸ‡§</td>\n' +
              '      <td><i>"' + enQuote.text + '"</i></td>\n' +
              '      <td>â€” ' + enQuote.author + '</td>\n' +
              '    </tr>\n' +
              '    <tr>\n' +
              '      <td>ðŸ‡¹ðŸ‡·</td>\n' +
              '      <td><i>"' + trQuote.text + '"</i></td>\n' +
              '      <td>â€” ' + trQuote.author + '</td>\n' +
              '    </tr>\n' +
              '  </table>\n' +
              '  <!-- DAILY-QUOTE:END -->';
            
            let readme = fs.readFileSync('README.md', 'utf8');
            readme = readme.replace(
              /<!-- DAILY-QUOTE:START -->[\s\S]*?<!-- DAILY-QUOTE:END -->/,
              quoteTable
            );
            fs.writeFileSync('README.md', readme);
            
      - name: Commit changes
        run: |
          git config --local user.email "action@github.com"
          git config --local user.name "GitHub Action"
          git add README.md
          git diff --quiet && git diff --staged --quiet || git commit -m "chore: Update daily quote"
          git push
